<!DOCTYPE html>
<html>
<head>
  <title>Password Reset</title>
  <script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-auth.js"></script>
</head>
<body>
  <h1>Password Reset</h1>
  <p id="message">Please wait...</p>
  <script>
    var firebaseConfig = {
        apiKey: "AIzaSyDQVpGsmqRuq1sf2lL_Tup_cU_JE0ig4Q8",
        authDomain: "vivida-57f19.firebaseapp.com",
        projectId: "vivida-57f19",
        storageBucket: "vivida-57f19.appspot.com",
        messagingSenderId: "416030693399",
        appId: "1:416030693399:web:326a80230893ce1ce26452",
        measurementId: "G-T0DWV30SV3"
    };
    firebase.initializeApp(firebaseConfig);

    var auth = firebase.auth();
    var oobCode = new URL(location.href).searchParams.get('oobCode');

    auth.verifyPasswordResetCode(oobCode)
      .then(function(email) {
        var newPassword = prompt("Enter a new password for " + email);
        return auth.confirmPasswordReset(oobCode, newPassword);
      })
      .then(function() {
        document.getElementById('message').textContent = "Password reset successful!";
      })
      .catch(function(error) {
        document.getElementById('message').textContent = "Error: " + error.message;
      });
  </script>
</body>
</html>